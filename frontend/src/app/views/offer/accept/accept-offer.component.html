<div class="flex flex-col items-center min-h-screen"> <!-- Full-page flex container -->
  <div class="pt-10 pb-40">
    <div class="flex justify-center pb-3 text-3xl font-bold text-brand-800">
      Contract and Transfer
    </div>
    <div class="flex justify-center text-lg">
      To transfer the Data Resource you have to accept the contract offer.
    </div>
  </div>

  <div class="flex justify-between w-full max-w-3xl mb-6 bg-white">
    <div class="font-bold text-lg p-3">
      {{ offer?.catalogOffering["gx:name"] }}
    </div>
  </div>

  <div class="w-full max-w-3xl pb-6">
    <c-accordion [alwaysOpen]="true" [flush]="true">
      <c-accordion-item #contractDetails="cAccordionItem" [visible]="false">
        <ng-template cTemplateId="accordionHeaderTemplate">
          <button (click)="contractDetails.toggleItem()" [collapsed]="!contractDetails.visible" cAccordionButton>
            View contract details
          </button>
        </ng-template>
        <ng-template cTemplateId="accordionBodyTemplate">
          <div *ngIf="!offer.dataOffering" class="accordion-body">
            <b>Offer ID:</b> {{ offer.catalogOffering.id }} <br/>
            <b>Offer name:</b> {{ offer.catalogOffering["gx:name"] }} <br/>
            <b>Provided by:</b> {{ offer.catalogOffering["gx:providedBy"].id }} <br/>
            <b>Publisher:</b> TODO <br/>
            <b>Description:</b> {{ offer.catalogOffering["gx:description"] }} <br/>
            <b>Terms & Conditions:</b> {{ offer.catalogOffering["gx:termsAndConditions"] }} <br/>
            <b>Policy:</b> {{ offer.catalogOffering["gx:policy"] }} <br/>
            <b>Data Protection Regime:</b> {{ offer.catalogOffering["gx:dataProtectionRegime"] }} <br/>
            <b>Data Account Export:</b> {{ offer.catalogOffering["gx:dataAccountExport"] }} <br/>
          </div>
          <div *ngIf="offer.dataOffering" class="accordion-body">
            <b>Offer ID:</b> {{ offer.catalogOffering.id }} <br/>
            <b>Data Ressource Name:</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:name"] }} <br/>
            <b>Provided by:</b> {{ offer.catalogOffering["gx:providedBy"].id }} <br/>
            <b>Publisher:</b> TODO <br/>
            <b>Data Ressource Description:</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:description"] }}
            <br/>
            <b>Data Ressource Policy:</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:policy"] }} <br/>
            <b>License:</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:license"] }} <br/>
            <b>Copyright owned by:</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:copyrightOwnedBy"].id }}
            <br/>
            <b>Produced by:</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:producedBy"].id }} <br/>
            <b>Exposed through:</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:exposedThrough"].id }} <br/>
            <b>Contains personal identifiable Information
              (PII):</b> {{ offer.catalogOffering["gx:aggregationOf"][0]["gx:containsPII"] }} <br/>
            <br/><br/>
            <b>Offer name:</b> {{ offer.catalogOffering["gx:name"] }} <br/>
            <b>Description:</b> {{ offer.catalogOffering["gx:description"] }} <br/>
            <b>Terms & Conditions:</b> {{ offer.catalogOffering["gx:termsAndConditions"] }} <br/>
            <b>Policy:</b> {{ offer.catalogOffering["gx:policy"] }}
            <b>Data Protection Regime:</b> {{ offer.catalogOffering["gx:dataProtectionRegime"] }} <br/>
            <b>Data Account Export:</b> {{ offer.catalogOffering["gx:dataAccountExport"] }} <br/>
          </div>
        </ng-template>
      </c-accordion-item>
    </c-accordion>
  </div>

  <div class="w-full max-w-3xl">
    <div class="flex justify-between">
      <button (click)="cancel()" cButton color="secondary" shape="rounded-0">
        Cancel
      </button>
      <button (click)="acceptContractOffer()" cButton color="primary" shape="rounded-0" type="submit">
        {{ buttonLabel }}
      </button>
    </div>

    <div class="flex justify-end mt-3">
      <app-status-message
        #acceptOfferStatusMessage
        [errorMessage]="'Offer acceptance failed.'"
        [infoMessage]="'Offer acceptance ongoing.'"
        [successMessage]="'Offer acceptance successful.'">
      </app-status-message>
    </div>
  </div>
</div>
